
/share_1399748/users/baijunji/anaconda3/bin/python   \
     main.py \
     --config run/sst2_mlm.yaml  


# source ~/.bashrc
# NODE_RANK=$INDEX
# arr=(`echo $NODE_IP_LIST | tr ',' ' '`)
# NODE_NUM=${#arr[@]}

# echo "start"
# echo "chief ip: " $CHIEF_IP
# echo "node id list: " $NODE_IP_LIST
# echo "node rank" $NODE_RANK
# echo "nodes num" $NODE_NUM
# port=32110
# if [ ${NODE_RANK} -ge 1 ];then
#    sleep 90
# fi


# export NPROC_PER_NODE=8;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#        --master_port=$port \
#        --nnodes=$NODE_NUM \
#        --node_rank=$NODE_RANK \
#        --master_addr=$CHIEF_IP \
#        --nproc_per_node=${NPROC_PER_NODE} \
#       main.py \
#        --config run/ptm/char_ct.yaml --multi_gpu True 


# export NPROC_PER_NODE=4;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#       main.py \
#        --config run/yewu/ocr/ct/segment.yaml 
# rm -rf /apdcephfs/mnt/share_1399748/users/baijunji/data/exp/tentrans/test/checkpoint_segment_labeling_sst2_en_last

# source ~/.bashrc
# NODE_RANK=$INDEX
# arr=(`echo $NODE_IP_LIST | tr ',' ' '`)
# NODE_NUM=${#arr[@]}

# echo "start"
# echo "chief ip: " $CHIEF_IP
# echo "node id list: " $NODE_IP_LIST
# echo "node rank" $NODE_RANK
# echo "nodes num" $NODE_NUM
# port=32110
# if [ ${NODE_RANK} -ge 1 ];then
#    sleep 90
# fi


# export NPROC_PER_NODE=8;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#        --master_port=$port \
#        --nnodes=$NODE_NUM \
#        --node_rank=$NODE_RANK \
#        --master_addr=$CHIEF_IP \
#        --nproc_per_node=${NPROC_PER_NODE} \
#       main.py \
#        --config run/ptm/char_ct.yaml --multi_gpu True 


# export NPROC_PER_NODE=4;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#       main.py \
#        --config run/yewu/ocr/ct/segment.yaml 
# rm -rf /apdcephfs/mnt/share_1399748/users/baijunji/data/exp/tentrans/test/checkpoint_segment_labeling_sst2_en_last


# source ~/.bashrc
# NODE_RANK=$INDEX
# arr=(`echo $NODE_IP_LIST | tr ',' ' '`)
# NODE_NUM=${#arr[@]}

# echo "start"
# echo "chief ip: " $CHIEF_IP
# echo "node id list: " $NODE_IP_LIST
# echo "node rank" $NODE_RANK
# echo "nodes num" $NODE_NUM
# port=32110
# if [ ${NODE_RANK} -ge 1 ];then
#    sleep 90
# fi


# export NPROC_PER_NODE=8;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#        --master_port=$port \
#        --nnodes=$NODE_NUM \
#        --node_rank=$NODE_RANK \
#        --master_addr=$CHIEF_IP \
#        --nproc_per_node=${NPROC_PER_NODE} \
#       main.py \
#        --config run/ptm/char_ct.yaml --multi_gpu True 


# export NPROC_PER_NODE=4;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#       main.py \
#        --config run/yewu/ocr/ct/segment.yaml 
# rm -rf /apdcephfs/mnt/share_1399748/users/baijunji/data/exp/tentrans/test/checkpoint_segment_labeling_sst2_en_last


# source ~/.bashrc
# NODE_RANK=$INDEX
# arr=(`echo $NODE_IP_LIST | tr ',' ' '`)
# NODE_NUM=${#arr[@]}

# echo "start"
# echo "chief ip: " $CHIEF_IP
# echo "node id list: " $NODE_IP_LIST
# echo "node rank" $NODE_RANK
# echo "nodes num" $NODE_NUM
# port=32110
# if [ ${NODE_RANK} -ge 1 ];then
#    sleep 90
# fi


# export NPROC_PER_NODE=8;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#        --master_port=$port \
#        --nnodes=$NODE_NUM \
#        --node_rank=$NODE_RANK \
#        --master_addr=$CHIEF_IP \
#        --nproc_per_node=${NPROC_PER_NODE} \
#       main.py \
#        --config run/ptm/char_ct.yaml --multi_gpu True 


# export NPROC_PER_NODE=4;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#       main.py \
#        --config run/yewu/ocr/ct/segment.yaml 
# rm -rf /apdcephfs/mnt/share_1399748/users/baijunji/data/exp/tentrans/test/checkpoint_segment_labeling_sst2_en_last


# source ~/.bashrc
# NODE_RANK=$INDEX
# arr=(`echo $NODE_IP_LIST | tr ',' ' '`)
# NODE_NUM=${#arr[@]}

# echo "start"
# echo "chief ip: " $CHIEF_IP
# echo "node id list: " $NODE_IP_LIST
# echo "node rank" $NODE_RANK
# echo "nodes num" $NODE_NUM
# port=32110
# if [ ${NODE_RANK} -ge 1 ];then
#    sleep 90
# fi


# export NPROC_PER_NODE=8;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#        --master_port=$port \
#        --nnodes=$NODE_NUM \
#        --node_rank=$NODE_RANK \
#        --master_addr=$CHIEF_IP \
#        --nproc_per_node=${NPROC_PER_NODE} \
#       main.py \
#        --config run/ptm/char_ct.yaml --multi_gpu True 


# export NPROC_PER_NODE=4;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#       main.py \
#        --config run/yewu/ocr/ct/segment.yaml 
# rm -rf /apdcephfs/mnt/share_1399748/users/baijunji/data/exp/tentrans/test/checkpoint_segment_labeling_sst2_en_last
# source ~/.bashrc
# NODE_RANK=$INDEX
# arr=(`echo $NODE_IP_LIST | tr ',' ' '`)
# NODE_NUM=${#arr[@]}

# echo "start"
# echo "chief ip: " $CHIEF_IP
# echo "node id list: " $NODE_IP_LIST
# echo "node rank" $NODE_RANK
# echo "nodes num" $NODE_NUM
# port=32110
# if [ ${NODE_RANK} -ge 1 ];then
#    sleep 90
# fi


# export NPROC_PER_NODE=8;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#        --master_port=$port \
#        --nnodes=$NODE_NUM \
#        --node_rank=$NODE_RANK \
#        --master_addr=$CHIEF_IP \
#        --nproc_per_node=${NPROC_PER_NODE} \
#       main.py \
#        --config run/ptm/char_ct.yaml --multi_gpu True 


# export NPROC_PER_NODE=4;
# /apdcephfs/share_1399748/users/baijunji/anaconda3/bin/python  -m torch.distributed.launch \
#       main.py \
#        --config run/yewu/ocr/ct/segment.yaml 
